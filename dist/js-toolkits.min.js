/**
 * js-toolkits v1.0.5
 * (c) 2019-2019 weijhfly https://github.com/weijhfly/js-toolkits
 * Licensed under MIT
 * Released on: oct 21, 2019
 */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).tks=e()}(this,function(){"use strict";var e=(t.prototype.isSupport=function(){return this.isCookie()?document.cookie&&navigator.cookieEnabled:void 0!==window[this.type]},t.prototype.get=function(t,e){try{var n=t.split(","),r=this.master(n,"get");return e?(e.apply(this,r),this):1<n.length?r:r[0]||null}catch(t){return console.error(t),null}},t.prototype.set=function(t,e,n){try{var r={};"object"!=typeof t?r[t]=e:(n=e,r=t),this.master(r,"set",n),this.success()}catch(t){console.error(t),this.fail()}return this},t.prototype.remove=function(t){try{var e=t.split(",");this.master(e,"remove")}catch(t){console.error(t)}return this},t.prototype.setType=function(t){return t=t||0,this.type=["sessionStorage","localStorage","cookie"][t]||t,this},t.prototype.master=function(t,e,n){var o=[],i=this.isCookie(),c=this;if("get"==e){for(var r in t)u(t[r]);return o}if("set"==e)for(var r in t)s(r,t[r],n);else if("remove"==e)for(var r in t)f(t[r]);function u(t){if(i){var e=new RegExp("(^| )"+t+"=([^;]*)(;|$)"),n=document.cookie.match(e),r=n?unescape(n[2]):null;o.push(c.isJson(r)||r)}else r=window[c.type][t],o.push(c.isJson(r)||r)}function s(t,e,n){if(e="object"==typeof e?JSON.stringify(e):e,i){n=n||72e5;var r=new Date;r.setTime(r.getTime()+n),document.cookie=t+"="+escape(e)+";expires="+r.toUTCString()}else window[c.type][t]=e}function f(t){if(i){var e=new Date,n=c.get(t);e.setTime(e.getTime()-1),null!=n&&(document.cookie=t+"="+n+";expires="+e.toUTCString())}else delete window[c.type][t]}},t.prototype.isJson=function(t){var e;try{e=JSON.parse(t)}catch(t){return!1}return e},t.prototype.isCookie=function(){return"cookie"===this.type},t);function t(t,e){this.success="object"==typeof e?e.success:function(){},this.fail="object"==typeof e?e.fail:function(){},this.setType(t)}function l(t){return"function"==typeof t&&"number"!=typeof t.nodeType}var p,i,n=Object.prototype.hasOwnProperty,h="undefined"!=typeof Symbol?Symbol.prototype:null,y=Object.keys;p=function(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var o=typeof t;return("function"==o||"object"==o||"object"==typeof e)&&i(t,e,n,r)},i=function(t,e,n,r){var o=toString.call(t);if(o!==toString.call(e))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return h.valueOf.call(t)===h.valueOf.call(e)}var i="[object Array]"===o;if(!i){if("object"!=typeof t||"object"!=typeof e)return!1;var c=t.constructor,u=e.constructor;if(c!==u&&!(l(c)&&c instanceof c&&l(u)&&u instanceof u)&&"constructor"in t&&"constructor"in e)return!1}r=r||[];for(var s=(n=n||[]).length;s--;)if(n[s]===t)return r[s]===e;if(n.push(t),r.push(e),i){if((s=t.length)!==e.length)return!1;for(;s--;)if(!p(t[s],e[s],n,r))return!1}else{var f=y(t),a=void 0;if(s=f.length,y(e).length!==s)return!1;for(;s--;)if(a=f[s],!m.has(e,a)||!p(t[a],e[a],n,r))return!1}return n.pop(),r.pop(),!0};var m={trim:function(t,e){return e?t.replace(/\s+/g,""):t.replace(/^\s+|\s+$/g,"")},each:function(t,e){var n,r=0;if(function(t){var e=!!t&&"length"in t&&t.length;return!l(t)&&!function(t){return null!=t&&t===t.window}(t)&&("[object Array]"===toString.call(t)||0===e||"number"==typeof e&&0<e&&e-1 in t)}(t))for(n=t.length;r<n&&!1!==e.call(t[r],t[r],r);r++);else for(r in t)if(!1===e.call(t[r],t[r],r))break;return t},get:function(){var t,e=arguments,n=e.length,r=(t=(t=1==n||0==n?location.search:e[0]).substring(t.indexOf("?")+1)).split("&"),i={};return this.each(r,function(t,e){if(-1!=t.indexOf("=")){var n=t.split("="),r=decodeURIComponent(n[0]),o=decodeURIComponent(n[1]);i[r]=o}}),1==n||2==n&&!0!==e[1]?i[1==n?e[0]:e[1]]||"":i},param:function(t){var n=[];return this.each(t,function(t,e){t=encodeURIComponent(null==t?"":t),e=encodeURIComponent(e),n.push(e+"="+t)}),n.join("&")},test:function(t,e){switch(t){case"phone":return/^1[3456789]\d{9}$/.test(e);case"email":return/^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/.test(e);case"json":if("string"!=typeof e)return!1;try{return JSON.parse(e),!0}catch(t){return!1}default:return!1}},storage:function(t){return new e(t)},min:function(t){return Math.min.apply(null,t)},max:function(t){return Math.max.apply(null,t)},sort:function(t,n){return t.sort(function(t,e){return t<e?n?1:-1:e<t?n?-1:1:0})},has:function(t,e){return n.call(t,e)},eq:function(t,e){return p(t,e)}};return m});
