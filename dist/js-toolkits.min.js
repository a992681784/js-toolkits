/**
 * js-toolkits v1.1.7
 * (c) 2019-2019 weijhfly https://github.com/weijhfly/js-toolkits
 * Licensed under MIT
 * Released on: oct 21, 2019
 */

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).tks=t()}(this,function(){"use strict";var t=(e.prototype.isSupport=function(){return this.isCookie()?document.cookie&&navigator.cookieEnabled:void 0!==window[this.type]},e.prototype.get=function(e,t){try{var n=e.split(","),r=this.master(n,"get");return t?(t.apply(this,r),this):1<n.length?r:r[0]||null}catch(e){return console.error(e),null}},e.prototype.set=function(e,t,n){try{var r={};"object"!=typeof e?r[e]=t:(n=t,r=e),this.master(r,"set",n),this.success()}catch(e){console.error(e),this.fail()}return this},e.prototype.remove=function(e){try{var t=e.split(",");this.master(t,"remove")}catch(e){console.error(e)}return this},e.prototype.setType=function(e){return e=e||0,this.type=["sessionStorage","localStorage","cookie"][e]||e,this},e.prototype.master=function(e,t,n){var o=[],i=this.isCookie(),u=this;if("get"==t){for(var r in e)c(e[r]);return o}if("set"==t)for(var r in e)a(r,e[r],n);else if("remove"==t)for(var r in e)s(e[r]);function c(e){if(i){var t=new RegExp("(^| )"+e+"=([^;]*)(;|$)"),n=document.cookie.match(t),r=n?unescape(n[2]):null;o.push(u.isJson(r)||r)}else r=window[u.type][e],o.push(u.isJson(r)||r)}function a(e,t,n){if(t="object"==typeof t?JSON.stringify(t):t,i){n=n||72e5;var r=new Date;r.setTime(r.getTime()+n),document.cookie=e+"="+escape(t)+";expires="+r.toUTCString()}else window[u.type][e]=t}function s(e){if(i){var t=new Date,n=u.get(e);t.setTime(t.getTime()-1),null!=n&&(document.cookie=e+"="+n+";expires="+t.toUTCString())}else delete window[u.type][e]}},e.prototype.isJson=function(e){var t;try{t=JSON.parse(e)}catch(e){return!1}return t},e.prototype.isCookie=function(){return"cookie"===this.type},e);function e(e,t){this.success="object"==typeof t?t.success:function(){},this.fail="object"==typeof t?t.fail:function(){},this.setType(e)}function n(e,t){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var i=Object.keys(Object(o)),u=0,c=i.length;u<c;u++){var a=i[u],s=Object.getOwnPropertyDescriptor(o,a);void 0!==s&&s.enumerable&&(n[a]=o[a])}}return n}Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:n});function p(e){return"function"==typeof e&&"number"!=typeof e.nodeType}var l,i,r=Object.prototype.hasOwnProperty,y="undefined"!=typeof Symbol?Symbol.prototype:null,h=Object.keys;l=function(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var o=typeof e;return("function"==o||"object"==o||"object"==typeof t)&&i(e,t,n,r)},i=function(e,t,n,r){var o=toString.call(e);if(o!==toString.call(t))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return y.valueOf.call(e)===y.valueOf.call(t)}var i="[object Array]"===o;if(!i){if("object"!=typeof e||"object"!=typeof t)return!1;var u=e.constructor,c=t.constructor;if(u!==c&&!(p(u)&&u instanceof u&&p(c)&&c instanceof c)&&"constructor"in e&&"constructor"in t)return!1}r=r||[];for(var a=(n=n||[]).length;a--;)if(n[a]===e)return r[a]===t;if(n.push(e),r.push(t),i){if((a=e.length)!==t.length)return!1;for(;a--;)if(!l(e[a],t[a],n,r))return!1}else{var s=h(e),f=void 0;if(a=s.length,h(t).length!==a)return!1;for(;a--;)if(f=s[a],!d.has(t,f)||!l(e[f],t[f],n,r))return!1}return n.pop(),r.pop(),!0};var d={trim:function(e,t){return t?e.replace(/\s+/g,""):e.replace(/^\s+|\s+$/g,"")},each:function(e,t){var n,r=0;if(function(e){var t=!!e&&"length"in e&&e.length;return!p(e)&&!function(e){return null!=e&&e===e.window}(e)&&("[object Array]"===toString.call(e)||0===t||"number"==typeof t&&0<t&&t-1 in e)}(e))for(n=e.length;r<n&&!1!==t.call(e[r],e[r],r);r++);else for(r in e)if(!1===t.call(e[r],e[r],r))break;return e},get:function(){var e,t=arguments,n=t.length,r=(e=(e=1==n||0==n?location.search:t[0]).substring(e.indexOf("?")+1)).split("&"),i={};return this.each(r,function(e,t){if(-1!=e.indexOf("=")){var n=e.split("="),r=decodeURIComponent(n[0]),o=decodeURIComponent(n[1]);i[r]=o}}),1==n||2==n&&!0!==t[1]?i[1==n?t[0]:t[1]]||"":i},param:function(e){var n=[];return this.each(e,function(e,t){e=encodeURIComponent(null==e?"":e),t=encodeURIComponent(t),n.push(t+"="+e)}),n.join("&")},test:function(e,t){switch(e){case"phone":return/^1[3456789]\d{9}$/.test(t);case"email":return/^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/.test(t);case"json":if("string"!=typeof t)return!1;try{return JSON.parse(t),!0}catch(e){return!1}default:return!1}},storage:function(e){return new t(e)},min:function(e){return Math.min.apply(null,e)},max:function(e){return Math.max.apply(null,e)},sort:function(e,n){return e.sort(function(e,t){return e<t?n?1:-1:t<e?n?-1:1:0})},has:function(e,t){return r.call(e,t)},eq:function(e,t){return l(e,t)},ajaxSetup:{before:function(e,t){},after:function(e,t,n){},error:function(e,t,n){}},ajax:function(e){var n,t,r=Object.assign({type:"get",url:"",async:!0,data:null,headers:{},timeout:0,dataType:"json",success:function(){},error:function(){}},e),o=this;if(window.XMLHttpRequest)n=new XMLHttpRequest;else{if(!window.ActiveXObject)return c("not support ajax"),!1;n=new ActiveXObject("Microsoft.XMLHTTP")}if(o.ajaxSetup.before&&!1===o.ajaxSetup.before(r,n))return!1;if(r.type=r.type.toUpperCase(),n.timeout=r.timeout,n.responseType=r.dataType,r.data&&r.data.toString&&"[object Object]"==r.data.toString()&&(t=o.param(r.data)),"GET"==r.type){var i=r.url+(t?(-1==r.url.indexOf("?")?"?":"&")+t:"");n.open(r.type,i,r.async),u(),n.send(null)}else"POST"==r.type&&(n.open(r.type,r.url,r.async),u(),n.send(t));function u(){r.headers["X-Requested-With"]="XMLHttpRequest","POST"==r.type&&(r.headers["Content-Type"]="application/x-www-form-urlencoded;charset=utf-8"),Object.keys(r.headers).length&&o.each(r.headers,function(e,t){n.setRequestHeader(t,e)})}function c(e){if(o.ajaxSetup.error&&!1===o.ajaxSetup.error(e,r,n))return!1;r.error(e,r,n)}n.onreadystatechange=function(){4==n.readyState&&(200==n.status?function(){if(o.ajaxSetup.after){if(!1===o.ajaxSetup.after(n.response,r,n))return}r.success(n.response,r,n)}():c(n.status))},n.ontimeout=function(){c("timeout")}},version:"1.1.7"};return d});
