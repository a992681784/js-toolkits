/**
 * js-toolkits v1.0.3
 * (c) 2019-2019 weijhfly https://github.com/weijhfly/js-toolkits
 * Licensed under MIT
 * Released on: oct 21, 2019
 */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).tks=e()}(this,function(){"use strict";var e=(t.prototype.isSupport=function(){return this.isCookie()?document.cookie&&navigator.cookieEnabled:void 0!==window[this.type]},t.prototype.get=function(t,e){try{var n=t.split(","),o=this.master(n,"get");return e?(e.apply(this,o),this):1<n.length?o:o[0]||null}catch(t){return console.error(t),null}},t.prototype.set=function(t,e,n){try{var o={};"object"!=typeof t?o[t]=e:(n=e,o=t),this.master(o,"set",n),this.success()}catch(t){console.error(t),this.fail()}return this},t.prototype.remove=function(t){try{var e=t.split(",");this.master(e,"remove")}catch(t){console.error(t)}return this},t.prototype.setType=function(t){return this.type=t||"sessionStorage",this},t.prototype.master=function(t,e,n){var r=[],i=this.isCookie(),s=this;if("get"==e){for(var o in t)c(t[o]);return r}if("set"==e)for(var o in t)u(o,t[o],n);else if("remove"==e)for(var o in t)f(t[o]);function c(t){if(i){var e=new RegExp("(^| )"+t+"=([^;]*)(;|$)"),n=document.cookie.match(e),o=n?unescape(n[2]):null;r.push(s.isJson(o)||o)}else o=window[s.type][t],r.push(s.isJson(o)||o)}function u(t,e,n){if(e="object"==typeof e?JSON.stringify(e):e,i){n=n||72e5;var o=new Date;o.setTime(o.getTime()+n),document.cookie=t+"="+escape(e)+";expires="+o.toUTCString()}else window[s.type][t]=e}function f(t){if(i){var e=new Date,n=s.get(t);e.setTime(e.getTime()-1),null!=n&&(document.cookie=t+"="+n+";expires="+e.toUTCString())}else delete window[s.type][t]}},t.prototype.isJson=function(t){var e;try{e=JSON.parse(t)}catch(t){return!1}return e},t.prototype.isCookie=function(){return"cookie"===this.type},t);function t(t,e){this.type=t||"sessionStorage",this.success="object"==typeof e?e.success:function(){},this.fail="object"==typeof e?e.fail:function(){}}return{trim:function(t,e){return e?t.replace(/\s+/g,""):t.replace(/^\s+|\s+$/g,"")},each:function(t,e){var n,o=0;if(function(t){var e=!!t&&"length"in t&&t.length;return!function(t){return"function"==typeof t&&"number"!=typeof t.nodeType}(t)&&!function(t){return null!=t&&t===t.window}(t)&&("[object Array]"===toString.call(t)||0===e||"number"==typeof e&&0<e&&e-1 in t)}(t))for(n=t.length;o<n&&!1!==e.call(t[o],t[o],o);o++);else for(o in t)if(!1===e.call(t[o],t[o],o))break;return t},get:function(){var t,e=arguments,n=e.length,o=(t=(t=1==n||0==n?location.search:e[0]).substring(t.indexOf("?")+1)).split("&"),i={};return this.each(o,function(t,e){if(-1!=t.indexOf("=")){var n=t.split("="),o=decodeURIComponent(n[0]),r=decodeURIComponent(n[1]);i[o]=r}}),1==n||2==n&&!0!==e[1]?i[1==n?e[0]:e[1]]||"":i},param:function(t){var n=[];return this.each(t,function(t,e){t=encodeURIComponent(null==t?"":t),e=encodeURIComponent(e),n.push(e+"="+t)}),n.join("&")},test:function(t,e){switch(t){case"phone":return/^1[3456789]\d{9}$/.test(e);case"email":return/^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/.test(e);case"json":if("string"!=typeof e)return!1;try{return JSON.parse(e),!0}catch(t){return!1}default:return!1}},storage:function(t){return new e(t)},min:function(t){return Math.min.apply(null,t)},max:function(t){return Math.max.apply(null,t)},sort:function(t,n){return t.sort(function(t,e){return t<e?n?1:-1:e<t?n?-1:1:0})}}});
